<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
A slot machine (also known as a fruit machine, a one-armed bandit, and under many other names) is a gambling device.
You play the game by inserting a coin and pulling a lever.
Once you do so, the machine will spin several reels.
On each of the reels there are pictures of various pieces of fruit.
When the reel stops spinning, exactly one of these fruits is shown to the player.
</p>
<p>
Thus, once all reels stopped spinning, the player now sees a sequence of fruits.
If these form some special pattern (e.g., all of the same kind), the machine pays out a corresponding prize.
</p>
<p>
In this problem we are only interested in the biggest prize, called the jackpot.
The jackpot is paid out if the player gets a cherry on all reels at once.
There is exactly one cherry on each of the reels.
</p>
<br></br>
<p>
Majk has been observing one such slot machine for some time.
</p>
<p>
For each of its reels he has written down the sequence in which fruit appears on the reel.
You are given this information in the vector &lt;string&gt; <b>reels</b>.
Each element of <b>reels</b> is a string that describes one of the reels.
The individual characters of that string represent the various fruits, in the order in which they appear on the display as the reel rotates.
(Obviously, the reel is cyclic, so when it spins, after the last fruit comes the first one again.)
</p>
<p>
The character 'c' represents the cherry, other characters are other fruits.
</p>
<br></br>
<p>
After observing the machine for some time, Majk came up with an important observation: it's actually completely deterministic!
Whenever a player pulls the lever, each of the reels rotates by a pre-determined number of steps.
This number may be different for different reels but for each individual reel it remains the same for all pulls of the lever.
</p>
<p>
Majk has determined these numbers of steps.
You can access them in the vector &lt;int&gt; <b>steps</b>.
Each time the lever is pulled, the reel described by <b>reels</b>[i] is rotated by <b>steps</b>[i] steps.
</p>
<br></br>
<p>
The slot machine currently isn't being played. Its reels are currently rotated so that for each reel the character at index 0 is the one currently shown on the display.
</p>
<p>
Majk would like to win the jackpot.
He does not want to waste his money to play other games, so his plan is to wait until the jackpot should appear and only play that one game on the slot machine.
</p>
<p>
Calculate and return X: the smallest possible non-negative integer such that if Majk waits for X games (i.e., lets other people play the slot machine X times) and then plays one game, he will win the jackpot.
Return -1 if such an X does not exist.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>SlotMachineHacking</td></tr><tr><td>Method:</td><td>win</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int win(vector &lt;string&gt; reels, vector &lt;int&gt; steps)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>reels</b> will have between 1 and 5 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>reels</b> will have between 1 and 10 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>reels</b> will be a lowercase English letter ('a'-'z').</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>reels</b> will contain exactly one 'c'.</td></tr><tr><td align="center" valign="top">-</td><td><b>steps</b> will have the same number of elements as <b>reels</b>.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>steps</b> will be between 1 and 10^9, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;abc&quot;, &quot;acb&quot;, &quot;cab&quot;}</pre></td></tr><tr><td><pre>{32, 31, 30}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
This slot machine currently shows "aac" (apple, apple, cherry) on its display.
</p>
<p>
When you pull the handle, the first reel will spin by 32 steps, the second one by 31 steps and the third one by 30 steps. 
Once that happens, all three reels will show a cherry and the machine will pay out the jackpot.
Majk should play it immediately.
</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;abc&quot;, &quot;acb&quot;, &quot;cab&quot;}</pre></td></tr><tr><td><pre>{30, 33, 300000006}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2">This slot machine is rigged. After each spin it returns to exactly the same position. The jackpot is never paid out.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;abc&quot;, &quot;bac&quot;, &quot;abpc&quot;}</pre></td></tr><tr><td><pre>{1, 1, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 10</pre></td></tr><tr><td><table><tr><td colspan="2">The slot machine currently shows "aba". After the first game it will show "bab", after the second game "ccp" (cherry-cherry-peach, almost the jackpot but not quite), after the third game the display will show "abc", and so on. Eventually the jackpot will come.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;aac&quot;, &quot;aac&quot;, &quot;aaac&quot;}</pre></td></tr><tr><td><pre>{1, 1, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 10</pre></td></tr><tr><td><table><tr><td colspan="2">This is the same slot machine as in the previous example. The only difference is that on this one all fruits that are not cherries are apples. This has no influence on the answer.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;c&quot;, &quot;c&quot;, &quot;ababcbabab&quot;, &quot;c&quot;}</pre></td></tr><tr><td><pre>{470, 4700, 47002, 470000}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">Three of the four reels always show a cherry. We win the jackpot as soon as the remaining wheel shows a cherry too.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;ca&quot;, &quot;caba&quot;}</pre></td></tr><tr><td><pre>{1, 2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">The machine just paid out a jackpot and we missed it. The optimal solution is to let someone else play once (they will get "ab") and then to play and win another jackpot.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>