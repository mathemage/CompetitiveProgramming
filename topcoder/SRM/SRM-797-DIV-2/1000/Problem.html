<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
There is a horizontal rectangular board with <b>R</b> rows and <b>C</b> columns of unit squares.
</p>
<p>
A three-dimensional world is built on top of this board: on each square of the board there is a stack of zero or more unit cubes.
The number of cubes on the square (r, c) is <b>H</b>[r*<b>C</b> + c].
</p>
<br></br>
<p>
We have a helicopter. The helicopter is negligibly tiny in comparison to the unit cubes that form the world, so we'll pretend it's a point. The helicopter is currently standing in the middle of the top face of the stack of cubes on square (0, 0). 
</p>
<p>
We want to get the helicopter to land in the opposite corner of the board: in the middle of the top face of the stack of cubes at coordinates (<b>R</b>-1, <b>C</b>-1).
</p>
<br></br>
<p>
The helicopter can move in three ways: it can fly up, down, or sideways. Each time it moves, it must move by exactly 1 unit of distance. Flying an unit of distance upwards costs <b>cup</b>, flying the same distance downwards costs <b>cdn</b>,
and flying an unit of distance sideways costs <b>clr</b>. When flying sideways, the direction of travel must be one of the four cardinal directions, so after each move the helicopter will be hovering over the center of one of the unit squares.
</p>
<p>
Obviously, the helicopter cannot leave the board and it cannot fly into a stack of cubes. It can fly while touching the top surface of a stack of cubes, so for example the helicopter's first move can be sideways as long as it goes into a square that doesn't have a higher stack of cubes. 
</p>
<br></br>
<p>
Calculate and return the minimum total cost of reaching the helicopter's destination.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>FlightPlan</td></tr><tr><td>Method:</td><td>fly</td></tr><tr><td>Parameters:</td><td>int, int, vector &lt;int&gt;, int, int, int</td></tr><tr><td>Returns:</td><td>long long</td></tr><tr><td>Method signature:</td><td>long long fly(int R, int C, vector &lt;int&gt; H, int cup, int cdn, int clr)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>R</b> will be between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>C</b> will be between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>H</b> will contain exactly <b>R</b> * <b>C</b> elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>H</b> will be between 0 and 10^6, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>cup</b>, <b>cdn</b> and <b>clr</b> will each be between 1 and 10^6, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>{10, 8, 6, 8, 10}</pre></td></tr><tr><td><pre>40</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>20</pre></td></tr></table></td></tr><tr><td><pre>Returns: 80</pre></td></tr><tr><td><table><tr><td colspan="2">This world has just a single row. The helicopter both starts and wants to end in height 10, and as there are no obstacles in its way, the cheapest solution is to simply fly horizontally (i.e., to the next column) four times.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>6</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>{10, 8, 16, 18, 8, 12}</pre></td></tr><tr><td><pre>40</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>20</pre></td></tr></table></td></tr><tr><td><pre>Returns: 480</pre></td></tr><tr><td><table><tr><td colspan="2">One optimal solution looks as follows:
<ol>
<li>Start in row 0, column 0, with starting altitude 10.</li>
<li>Fly to the next row. (This costs 20 and results in a helicopter hovering 2 units of distance above the surface at this point.)</li>
<li>Fly 6 units upwards. (Cost 240, now the helicopter's altitude is 16.)</li>
<li>Fly to the next row. (Cost 20. We are now in the middle row and we are touching its surface.)</li>
<li>Fly another 2 units upwards. (Cost 80, now the helicopter's altitude is 18.)</li>
<li>Fly two units to the right. (Cost 40.)</li>
<li>Fly 6 units down. (Cost 60. We are now in row 0, column 4 and our altitude is 12.</li>
<li>Fly one unit to the right (cost 20), and as we have exactly the correct altitude, terminate. </li>
</ol>
<p>
The total cost is 480.
</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>{  100, 1000,  100,  100,  100,
    97, 9999, 9999, 9999,  100,
    93, 9999,    0, 9999,  100,
    99, 9999,   83,   65,  100,
    98,   93,   90, 9999,   95}</pre></td></tr><tr><td><pre>1000</pre></td></tr><tr><td><pre>1000</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5010</pre></td></tr><tr><td><table><tr><td colspan="2">Flying up and down is very expensive. It's better to take a longer route, starting by moving from row 0 to row 1.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>{  100, 1000,  100,  100,  100,
    97, 9999, 9999, 9999,  100,
    93, 9999,    0, 9999,  100,
    99, 9999,   83,   65,  100,
    98,   93,   90, 9999,   95}</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 9805</pre></td></tr><tr><td><table><tr><td colspan="2">The same map but now horizontal movement is expensive. Here it's better to travel through the square (0, 4).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>{47}</pre></td></tr><tr><td><pre>123</pre></td></tr><tr><td><pre>234</pre></td></tr><tr><td><pre>345</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">The obligatory example illustrating that travel starting and finishing at the same spot has cost 0.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>